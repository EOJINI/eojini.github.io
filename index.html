<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>âœ¨ ì˜¤ëŠ˜ì˜ ìš´ì„¸</title>
  <link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&display=swap" rel="stylesheet" />
  <style>
    body {
      font-family: 'Gowun Dodum', sans-serif;
      background: linear-gradient(to bottom right, #fff8dc, #ffe4e1);
      background-image: url('https://cdn.pixabay.com/photo/2017/10/16/09/00/stars-2854430_1280.jpg');
      background-size: cover;
      background-repeat: no-repeat;
      background-position: center;
      text-align: center;
      padding: 20px;
      margin: 0;
      color: #333;
    }
    h1 {
      font-size: 2.2em;
      margin-bottom: 20px;
      color: #6a5acd;
    }
    input, button {
      font-size: 1em;
      padding: 10px;
      margin: 10px 5px;
      border: none;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }
    button {
      background-color: #ffd700;
      color: #333;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    button:hover {
      background-color: #ffcc00;
    }
    .result {
      margin-top: 30px;
      font-size: 1.3em;
      background-color: rgba(255, 255, 255, 0.9);
      display: inline-block;
      padding: 20px;
      border-radius: 12px;
      max-width: 90%;
      white-space: pre-line;
    }
    #copyBtn {
      background-color: #6a5acd;
      color: #fff;
      margin-top: 20px;
    }
    .icons {
      margin-top: 20px;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
    }
    .icons button {
      margin: 5px;
      min-width: 100px;
    }
    @media (max-width: 600px) {
      h1 {
        font-size: 1.6em;
      }
      input, button {
        width: 90%;
        font-size: 1em;
      }
      .result {
        font-size: 1.1em;
        padding: 15px;
      }
    }
  </style>
</head>
<body>
  <h1>ğŸ”® ì˜¤ëŠ˜ì˜ ìš´ì„¸ ğŸ”® </h1>
  <p>ìƒë…„ì›”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”:</p>
  <input type="date" id="birthDate" />

  <div class="icons">
    <button id="loveBtn">â¤ï¸ ì—°ì• ìš´</button>
    <button id="healthBtn">ğŸ’ª ê±´ê°•ìš´</button>
    <button id="moneyBtn">ğŸ’° ì¬ë¬¼ìš´</button>
    <button id="randomBtn">ğŸŒˆ ëœë¤ ìš´ì„¸</button>
  </div>

  <div class="result" id="result"></div>
  <button id="copyBtn">ğŸ“‹ ìš´ì„¸ ë³µì‚¬í•˜ê¸°</button>
  <audio id="sound" src="https://www.soundjay.com/button/beep-07.wav"></audio>

  <script>
    window.onload = function () {
      const loveBtn = document.getElementById('loveBtn');
      const healthBtn = document.getElementById('healthBtn');
      const moneyBtn = document.getElementById('moneyBtn');
      const randomBtn = document.getElementById('randomBtn');
      const copyBtn = document.getElementById('copyBtn');
      const resultDiv = document.getElementById('result');

      const fortunes = {
        love: ["ë§ˆìŒì´ í†µí•˜ëŠ” ì¸ì—°ì´ ì°¾ì•„ì˜¬ ê±°ì˜ˆìš”.", "ëœ»ë°–ì˜ ì„¤ë ˜ì´ ì˜¤ëŠ˜ ë‹¹ì‹ ì„ ê¸°ë‹¤ë¦½ë‹ˆë‹¤.", "ì¡°ê¸ˆë§Œ ìš©ê¸°ë¥¼ ë‚´ë©´ ì¢‹ì€ ì¼ì´ ìƒê²¨ìš”."],
        health: ["ê°€ë²¼ìš´ ìš´ë™ì´ ê±´ê°•ì— í™œë ¥ì„ ì¤„ ê±°ì˜ˆìš”.", "ì¶©ë¶„í•œ ìˆ˜ë©´ì´ í–‰ìš´ì„ ë¶€ë¥¼ ê±°ì˜ˆìš”.", "ëª¸ì´ ë³´ë‚´ëŠ” ì‹ í˜¸ë¥¼ ì˜ ê´€ì°°í•˜ì„¸ìš”."],
        money: ["ì‘ì€ ì ˆì•½ì´ í° í–‰ìš´ì„ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤.", "ì§€ì¶œë³´ë‹¤ ìˆ˜ì…ì— ì§‘ì¤‘í•˜ì„¸ìš”.", "ì˜ì™¸ì˜ ìˆ˜ì…ì´ ìƒê¸¸ì§€ë„ ëª°ë¼ìš”!"]
      };

      const luckyColors = [
        { name: "í•˜ëŠ˜ìƒ‰", emoji: "ğŸ©µ" },
        { name: "ì—°ë‘ìƒ‰", emoji: "ğŸ’š" },
        { name: "ë…¸ë€ìƒ‰", emoji: "ğŸ’›" },
        { name: "ë¶„í™ìƒ‰", emoji: "ğŸ’–" },
        { name: "ë‚¨ìƒ‰", emoji: "ğŸ’™" },
        { name: "ë³´ë¼ìƒ‰", emoji: "ğŸ’œ" },
        { name: "í•˜ì–€ìƒ‰", emoji: "ğŸ¤" },
        { name: "ì£¼í™©ìƒ‰", emoji: "ğŸ§¡" }
      ];

      const luckyItems = [
        { name: "ì—´ì‡ ê³ ë¦¬", emoji: "ğŸ”‘" },
        { name: "ì†ê±°ìš¸", emoji: "ğŸª" },
        { name: "ë³¼íœ", emoji: "ğŸ–Šï¸" },
        { name: "ë…¸íŠ¸", emoji: "ğŸ““" },
        { name: "ì§€ê°‘", emoji: "ğŸ‘›" },
        { name: "ì±…", emoji: "ğŸ“š" },
        { name: "ë¨¸ë¦¬í•€", emoji: "ğŸ’‡â€â™€ï¸" },
        { name: "í—¤ì–´ë°´ë“œ", emoji: "ğŸ€" },
        { name: "ë¦½ë°¤", emoji: "ğŸ’„" },
        { name: "í…€ë¸”ëŸ¬", emoji: "ğŸ¥¤" }
      ];

      function getRandomElement(arr) {
        return arr[Math.floor(Math.random() * arr.length)];
      }

      function getTodayKey(birth, type) {
        const today = new Date().toISOString().slice(0, 10);
        return `fortune_${birth}_${type}_${today}`;
      }

      function showFortune(type) {
        const birth = document.getElementById('birthDate').value;
        if (!birth) {
          resultDiv.innerText = 'ğŸ“… ìƒë…„ì›”ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.';
          return;
        }
        const key = getTodayKey(birth, type);
        const stored = localStorage.getItem(key);
        if (stored) {
          resultDiv.innerText = stored;
          return;
        }

        document.getElementById("sound").play();
        const label = type === 'love' ? 'ì—°ì• ìš´' : type === 'health' ? 'ê±´ê°•ìš´' : 'ì¬ë¬¼ìš´';
        const fortune = getRandomElement(fortunes[type]);
        const colorMap = {
          love: { name: "ë¶„í™ìƒ‰", emoji: "ğŸ’–" },
          health: { name: "ì—°ë‘ìƒ‰", emoji: "ğŸ’š" },
          money: { name: "ë…¸ë€ìƒ‰", emoji: "ğŸ’›" }
        };
        const color = colorMap[type];
        const itemMap = {
          love: { name: "ë¦½ë°¤", emoji: "ğŸ’„" },
          health: { name: "í…€ë¸”ëŸ¬", emoji: "ğŸ¥¤" },
          money: { name: "ì§€ê°‘", emoji: "ğŸ‘›" }
        };
        const item = itemMap[type];
        const resultText = `[${label}] ${fortune}
ğŸŒˆ í–‰ìš´ì˜ ìƒ‰: ${color.emoji} ${color.name}
ğŸ í–‰ìš´ì˜ ì•„ì´í…œ: ${item.emoji} ${item.name}`;
        resultDiv.innerText = resultText;
        localStorage.setItem(key, resultText);
      }

      function showRandomFortune() {
        const types = ['love', 'health', 'money'];
        const randomType = getRandomElement(types);
        showFortune(randomType);
      }

      loveBtn.onclick = () => showFortune('love');
      healthBtn.onclick = () => showFortune('health');
      moneyBtn.onclick = () => showFortune('money');
      randomBtn.onclick = () => showRandomFortune();
      copyBtn.onclick = () => {
        const text = resultDiv.innerText;
        if (text) {
          navigator.clipboard.writeText(text).then(() => {
            alert('ìš´ì„¸ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
          });
        }
      };
    };
  </script>
</body>
</html>
